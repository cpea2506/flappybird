'use strict';class Pipe{constructor(b=new Game){this.game=b,this.pipeImg=this.random=null,this.pipes=[],this.pipes[0]={x:500,y:Math.floor(241*Math.random()+120),w:52,gap:85}}init(){this.random=Math.floor(2*Math.random()),this.loadImage()}loadImage(){switch(this.pipeImg=new Image,this.random){case 0:this.pipeImg.src="img/pipe-green.webp";break;case 1:this.pipeImg.src="img/pipe-red.webp";}}update(){const c=this.game.currentState,a=this.game.state;c===a.play&&this.pipes.forEach(b=>{b.x--,130===b.x&&this.pipes.push({x:this.game.width,y:Math.floor(241*Math.random()+120),w:52,gap:85}),5===b.x+b.w&&this.pipes.shift()})}draw(){const e=this.game.offContext,a=this.game.width,b=this.game.height;this.pipes.forEach(c=>{e.drawImage(this.pipeImg,c.x,c.y),e.save(),e.translate(a/2,b/2),e.rotate(Math.PI),e.scale(-1,1),e.drawImage(this.pipeImg,c.x-a/2,-b/2+512-c.y+c.gap),e.restore()})}}